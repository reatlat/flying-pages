"use strict";function _typeof(a){"@babel/helpers - typeof";return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},_typeof(a)}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b=_toPropertyKey(b),b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function _toPropertyKey(a){var b=_toPrimitive(a,"string");return"symbol"===_typeof(b)?b:b+""}function _toPrimitive(a,b){if("object"!==_typeof(a)||null===a)return a;var c=a[Symbol.toPrimitive];if(c!==void 0){var d=c.call(a,b||"default");if("object"!==_typeof(d))return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}module.exports=function(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},b=new Set,c=new Set,d=document.createElement("link"),e=d.relList&&d.relList.supports&&d.relList.supports("prefetch")&&window.IntersectionObserver&&"isIntersecting"in IntersectionObserverEntry.prototype,f=navigator.connection&&(navigator.connection.saveData||(navigator.connection.effectiveType||"").includes("2g"));if(!f&&e){var g=function(a){return new Promise(function(b,c){var d=document.createElement("link");d.rel="prefetch",d.href=a,d.onload=b,d.onerror=c,document.head.appendChild(d)})},h=function(a){var b=setTimeout(function(){return q()},5e3);g(a)["catch"](function(){return q()})["finally"](function(){return clearTimeout(b)})},i=function(a){var d=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1];if(!(c.has(a)||b.has(a))){var e=window.location.origin;if(a.substring(0,e.length)===e&&window.location.href!==a){for(var f=0;f<window.FPConfig.ignoreKeywords.length;f++)if(a.includes(window.FPConfig.ignoreKeywords[f]))return;d?(h(a),c.add(a)):b.add(a)}}},j=new IntersectionObserver(function(a){a.forEach(function(a){if(a.isIntersecting){var b=a.target.href;i(b,!window.FPConfig.maxRPS)}})}),k=function(){return setInterval(function(){Array.from(b).slice(0,window.FPConfig.maxRPS).forEach(function(a){h(a),c.add(a),b["delete"](a)})},1e3)},l=null,m=function(a){var b=a.target.closest("a");b&&b.href&&!c.has(b.href)&&(l=setTimeout(function(){i(b.href,!0)},window.FPConfig.hoverDelay))},n=function(a){var b=a.target.closest("a");b&&b.href&&!c.has(b.href)&&i(b.href,!0)},o=function(a){var b=a.target.closest("a");b&&b.href&&!c.has(b.href)&&clearTimeout(l)},p=window.requestIdleCallback||function(a){var b=Date.now();return setTimeout(function(){a({didTimeout:!1,timeRemaining:function timeRemaining(){var a=Math.max;return a(0,50-(Date.now()-b))}})},1)},q=function(){document.querySelectorAll("a").forEach(function(a){return j.unobserve(a)}),b.clear(),document.removeEventListener("mouseover",m,!0),document.removeEventListener("mouseout",o,!0),document.removeEventListener("touchstart",n,!0)},r=_objectSpread(_objectSpread({},{delay:0,ignoreKeywords:[],maxRPS:3,hoverDelay:50}),a);window.FPConfig=Object.assign(r,window.FPConfig),k(),p(function(){return setTimeout(function(){return document.querySelectorAll("a").forEach(function(a){return j.observe(a)})},1e3*window.FPConfig.delay)});var s={capture:!0,passive:!0};document.addEventListener("mouseover",m,s),document.addEventListener("mouseout",o,s),document.addEventListener("touchstart",n,s)}};
